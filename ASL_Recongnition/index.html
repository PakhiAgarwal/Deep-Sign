<HTML>
<HEAD> 
<TITLE> Picture Naming- Evaluation </TITLE>
<script src="static/index.js"></script>
<script src="https://www.WebRTC-Experiment.com/RecordRTC.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<link type="text/css" href="static/style.css" rel="stylesheet">

</HEAD>
<BODY>
<H1><Center> Picture Naming- Autograding tool </Center></H1>

<!-- Slideshow container -->
<div class="slideshow-container">

  <!-- Full-width images with number and caption text -->
  <div class="mySlides fade">
    <div class="numbertext">1 / 10</div>
    <img src="static/Pictures_PN1/1Apple.png">
  </div>

  <div class="mySlides fade">
    <div class="numbertext">2 / 10</div>
    <img src="static/Pictures_PN1/2Banana.png" >
    
  </div>

  <div class="mySlides fade">
    <div class="numbertext">3 / 10</div>
    <img src="static/Pictures_PN1/3IceCream.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">4 / 10</div>
    <img src="static/Pictures_PN1/4Milk.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">5 / 10</div>
    <img src="static/Pictures_PN1/5Grapes.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">6 / 10</div>
    <img src="static/Pictures_PN1/6Coat.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">7 / 10</div>
    <img src="static/Pictures_PN1/7Cap.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">8 / 10</div>
    <img src="static/Pictures_PN1/8Shirt.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">9 / 10</div>
    <img src="static/Pictures_PN1/9Pant.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">10 / 10</div>
    <img src="static/Pictures_PN1/10Shoe.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">11 / 10</div>
    <img src="static/PNImages/image11.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">12 / 10</div>
    <img src="static/PNImages/image12.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">13 / 10</div>
    <img src="static/PNImages/image13.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">14 / 10</div>
    <img src="static/PNImages/image14.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">15 / 10</div>
    <img src="static/PNImages/image15.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image16.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image17.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image18.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image19.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image20.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image21.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image22.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image23.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image24.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image25.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image26.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image27.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image28.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image29.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image30.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image31.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image32.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image33.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image34.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image35.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image36.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image37.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image38.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image39.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image40.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image41.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image42.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image43.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image44.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image45.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image46.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image47.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image48.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image49.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image50.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image51.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image52.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image53.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image54.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image55.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image56.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image57.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image58.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image59.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image60.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image61.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image62.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image63.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image64.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image65.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image66.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image67.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image68.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image69.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image70.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image71.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image72.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image73.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image74.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image75.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image76.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image77.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image78.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image79.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image80.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image81.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image82.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image83.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image84.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image85.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image86.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image87.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image88.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image89.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image90.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image91.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image92.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image93.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image94.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image95.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image96.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image97.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image98.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image99.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image100.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image101.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image102.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image103.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image104.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image105.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image106.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image107.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image108.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image109.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image110.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image111.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image112.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image113.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image114.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image115.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image116.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image117.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image118.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image119.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image120.png" >
    
  </div>

<div class="mySlides fade">
    <div class="numbertext">16 / 10</div>
    <img src="static/PNImages/image121.png" >
    
  </div>

  <!-- Next and previous buttons -->
  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a>
</div>
<br>

<button class="button">Learn</button>
<!--
<img id="server" width="320" height="240"></img>
<img id="scale" width="320" height="240"></img>
-->

<!-- Video recording (Time limit 5 sec) sends videos to server for autograding -->

<!--Record button-->

<button class="button" id="btn-start-recording">Start Recording</button>
<style>
    html, body {
        margin: 0!important;
        padding: 0!important;
    }
</style>

<title>Video Recording | RecordRTC</title>
<h1>Simple Video Recording using RecordRTC</h1>

<br>
<!--
<button id="btn-start-recording">Start Recording</button>
<button id="btn-stop-recording" disabled>Stop Recording</button>
-->
<hr>
<video controls autoplay playsinline></video>

<script src="/RecordRTC.js"></script>
<script>
var video = document.querySelector('video');

function captureCamera(callback) {
    navigator.mediaDevices.getUserMedia({ audio: true, video: true }).then(function(camera) {
        callback(camera);
    }).catch(function(error) {
        alert('Unable to capture your camera. Please check console logs.');
        console.error(error);
    });
}

function stopRecordingCallback() {
    video.src = video.srcObject = null;
    video.muted = false;
    video.volume = 1;
    let blob = recorder.getBlob();
    console.log(blob);
    //invokeSaveAsDialog(blob);
    video.src = URL.createObjectURL(blob);
    
    recorder.camera.stop();
    recorder.destroy();
    recorder = null;

   var fd = new FormData();
      fd.append('fname', 'test.wav');
      fd.append('data', blob);
      $.ajax({
	     type: 'POST',
	     url: '/upload',
	     data: fd,
	     processData: false,
	     contentType: false
      }).done(function(data) {
		console.log(data);
      });
}

var recorder; // globally accessible

document.getElementById('btn-start-recording').onclick = function() {
    this.disabled = true;
    captureCamera(function(camera) {
        video.muted = true;
        video.volume = 0;
        video.srcObject = camera;

        recorder = RecordRTC(camera, {
            type: 'video'
        });

        recorder.startRecording();

        // release camera on stopRecording
        recorder.camera = camera;

        document.getElementById('btn-stop-recording').disabled = false;
    });
   setTimeout(function(){
      recorder.stopRecording(stopRecordingCallback);
   }, 5000);

};

document.getElementById('btn-stop-recording').onclick = function() {
    this.disabled = true;
    recorder.stopRecording(stopRecordingCallback);
};
</script>

<footer style="margin-top: 20px;"><small id="send-message"></small></footer>
<script src="https://www.webrtc-experiment.com/common.js"></script>

</BODY>
</HTML>
